<!DOCTYPE html>
<html lang="en">
<head>
<title>Generate BASH Command</title>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=0.6">
<link crossorigin="anonymous" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css" integrity="sha384-WskhaSGFgHYWDcbwN70/dfYBj47jz9qbsMId/iRN3ewGhXQFZCSftd1LZCfmhktB" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/2.4.4/umd/popper.min.js"></script>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-6710021794174728" crossorigin="anonymous"></script>
<script src="/js/common.js"></script>

<script type="text/javascript">
function show_cmd() {
  var dest = document.getElementsByName("destination")[0].value.trim();
  var via = document.getElementsByName("gwip")[0].value.trim();
  var dev = document.getElementsByName("device")[0].value.trim();
  if (dest === "" || via === "" || dev === "") {
    cmd_str = "Inputs can not be empty";
  } else {
      if (validate_ip_addr(via)) {
        cmd_str = 'ip route add ' + dest + ' via ' + via + ' dev ' + dev;
      } else {
          cmd_str = "Gateway must be an IP address";
      }
  }
  document.getElementsByName("cmd_text")[0].value = cmd_str;
}
</script>
</head>
<body>

</br>
<div class="container-fluid">
<div class="row">
  <div class="col-sm"><h2>Add static ip route</h2></div>
</div></br>
<div class="row">
  <div class="col-sm">ip route add <span style="color: #80a77d;"><b>&lt;network/mask&gt;</b></span> via <span style="color: #80a77d;"><b>&lt;gw_ip&gt;</b></span> dev <span style="color: #80a77d;"><b>&lt;device&gt;</b></span></div>
  </div>
</div></br>
<div class="input-group input-group-lg">    
  <div class="input-group-prepend">
    <span class="input-group-text" id="inputGroup-sizing-lg">Destination (NETWORK/MASK)</span>
  </div>
  <input type="text" maxlength=20 name="destination" class="form-control" aria-label="destination" aria-describedby="inputGroup-sizing-sm">    
</div></br>

<div class="input-group input-group-lg">
  <div class="input-group-prepend">
    <span class="input-group-text" id="inputGroup-sizing-lg">Gateway IP</span>
  </div>
  <input type="text" maxlength=40 name="gwip" class="form-control" aria-label="gwip" aria-describedby="inputGroup-sizing-sm">
</div></br>

<div class="input-group input-group-lg">
    <div class="input-group-prepend">
      <span class="input-group-text" id="inputGroup-sizing-lg">Device</span>
    </div>
    <input type="text" maxlength=40 name="device" class="form-control" aria-label="device" aria-describedby="inputGroup-sizing-sm">
  </div></br>

<div class="input-group input-group-lg" style="background-color: #b4deb1; position: relative;">
  <input class="form-control" style="background-color: #b4deb1;" type="text" name="cmd_text" id="cmd_text" readonly aria-label="Command" aria-describedby="inputGroup-sizing-sm">
</div></br>

<div class="row">
  <div class="col-sm">
    <input type="button" class="btn btn-info btn-lg" data-toggle="tooltip" data-placement="bottom" title="Show Command" value="Show" onclick="javascript:show_cmd();">
    <input type="button" class="btn btn-info btn-lg" data-toggle="tooltip" data-placement="bottom" title="Copy Command to Clipboard" value="Copy" onclick="javascript:copy_to_clip();">
  </div>
</div></br></br>
<a href="/bash/Networking" class="btn btn-default btn-sm"><span class="glyphicon glyphicon-home"></span> <h5>Back</h5></a>
</div>

</body>
</html>
